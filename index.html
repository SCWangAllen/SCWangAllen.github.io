<!DOCTYPE html><html lang="zh-TW"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Record my learning process"><meta name="keywords" content=""><meta name="author" content="Shan Chi Wang (Allen)"><meta name="copyright" content="Shan Chi Wang (Allen)"><title>My tech blog | SCWangAllen</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Shan Chi Wang (Allen)</div><div class="author-info__description text-center">Record my learning process</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">4</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">3</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">SCWangAllen</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/About">About</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"></span></div><div id="site-info"><div id="site-title">SCWangAllen</div><div id="site-sub-title">My tech blog</div><div id="site-social-icons"><a class="social-icon" href="https://medium.com/@powerful_lapis_impala_871" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-medium fab"></i></a><a class="social-icon" href="https://github.com/SCWangAllen" target="_blank" rel="noreferrer noopener nofollow"><i class="fa-github fab"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2023/Use-Notion-and-Python-to-build-my-own-vocabulary-database-%E2%80%94-3-Notion-API/">Use Notion and Python to build my own vocabulary database â€” (3)[Notion API]</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-07-01</time><div class="content"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨ä¹‹å‰çš„ç³»åˆ—æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å·²æˆåŠŸåˆ©ç”¨çˆ¬èŸ²æŠ€è¡“ç²å–äº†å„ç¨®æœ‰åƒ¹å€¼çš„è³‡æ–™ã€‚é€™äº›è³‡æ–™å°æˆ‘å€‘ä¾†èªªæ˜¯å¯¶è²´çš„è³‡æºï¼Œä½†åƒ…åƒ…æ“æœ‰é€™äº›è³‡æ–™ä¸¦ä¸è¶³å¤ ï¼Œæˆ‘å€‘éœ€è¦ä¸€å€‹å¼·å¤§çš„å·¥å…·ä¾†çµ„ç¹”ã€ç®¡ç†å’Œåˆ©ç”¨é€™äº›è³‡æ–™ã€‚åœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å°‡ä»‹ç´¹å¦‚ä½•ä½¿ç”¨Notion APIï¼Œå°‡æˆ‘å€‘å–å¾—çš„è³‡æ–™èˆ‡Notionä¸²æ¥ï¼Œå»ºç«‹èµ·æˆ‘å€‘è‡ªå·±çš„è©å½™åº«è³‡æ–™åº«ã€‚é€šéé€™ç¨®æ–¹å¼ï¼Œæˆ‘å€‘å¯ä»¥æ›´æœ‰æ•ˆåœ°çµ„ç¹”å’Œå­˜å–æˆ‘å€‘çš„è³‡æ–™ï¼Œä¸¦å°‡å…¶è½‰åŒ–ç‚ºæœ‰åƒ¹å€¼çš„çŸ¥è­˜å’Œè³‡æºã€‚è®“æˆ‘å€‘ä¸€èµ·é–‹å§‹å­¸ç¿’å¦‚ä½•åˆ©ç”¨Notionå’ŒPythonæ‰“é€ å±¬æ–¼æˆ‘å€‘è‡ªå·±çš„è©å½™åº«è³‡æ–™åº«å§ï¼</p>
<h1 id="éç¨‹"><a href="#éç¨‹" class="headerlink" title="éç¨‹"></a>éç¨‹</h1><p>Notionæ˜¯ä¸€å€‹åŠŸèƒ½å¼·å¤§çš„å”ä½œå·¥å…·ï¼Œå¹¾ä¹æ“æœ‰ç„¡é™çš„æ“´å±•æ€§å’Œè‡ªå®šç¾©æ€§ã€‚å®ƒæä¾›äº†ä¸€å€‹æ–¹ä¾¿çš„JavaScriptç‰ˆæœ¬APIï¼Œä½¿é–‹ç™¼è€…èƒ½å¤ é€érequestä¾†å¯¦ç¾å¹¾ä¹æ‰€æœ‰çš„åŠŸèƒ½ã€‚ä½†è€ƒæ…®åˆ°æˆ‘å€‘å°‡åœ¨Djangoä¼ºæœå™¨ä¸Šæ¶è¨­ï¼Œæˆ‘é¸æ“‡ä½¿ç”¨Python APIã€‚åœ¨é€™å€‹éç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†ä¸€äº›æŒ‘æˆ°å’Œå›°é›£ï¼Œä½†æˆ‘æˆåŠŸåœ°å…‹æœäº†å®ƒå€‘ï¼Œä¸¦æ‰¾åˆ°äº†è§£æ±ºæ–¹æ¡ˆã€‚</p>
<p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°‡è©³ç´°ä»‹ç´¹æˆ‘åœ¨ä½¿ç”¨Notion APIéç¨‹ä¸­æ‰€é‡åˆ°çš„å•é¡Œå’Œè§£æ±ºæ–¹æ³•ã€‚æˆ‘å°‡åˆ†äº«æˆ‘é‡åˆ°çš„å‘ï¼Œä¸¦æä¾›å¯¦ç”¨çš„æŠ€å·§ï¼Œä»¥å¹«åŠ©è®€è€…é †åˆ©ä½¿ç”¨Notion APIä¸¦åœ¨Djangoä¼ºæœå™¨ä¸Šå»ºç«‹è‡ªå·±çš„è©å½™åº«è³‡æ–™åº«ã€‚(<a target="_blank" rel="noopener" href="https://developers.notion.com/">Notion APIæ–‡ä»¶ç¶²å€</a>)</p>
<h1 id="Four-Steps"><a href="#Four-Steps" class="headerlink" title="Four Steps"></a>Four Steps</h1><p>è¦ä½¿ç”¨notion APIæ›´æ–°databaseæœ‰ä¸‹åˆ—å››å€‹æ­¥é©Ÿã€‚</p>
<ol>
<li>å»ºç«‹integration</li>
<li>databaseè¦å’Œintegrationå»ºç«‹é€£çµ</li>
<li>å–å¾—databaseçš„id</li>
<li>æ›´æ–°è³‡æ–™é€²database</li>
</ol>
<p>è¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ç¬¬å››éƒ¨ï¼Œç¯„ä¾‹å¦‚ä¸‹ï¼Œè¦æ³¨æ„æ˜¯databaseçš„IDï¼Œå¦‚æœæ˜¯ä¸€é è£¡é¢åŒ…å«ä¸€å€‹databaseè¦æ³¨æ„ä¸è¦æ‹¿éŒ¯æ‹¿åˆ°é‚£å€‹pageçš„IDã€‚</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/0*j4ny8Xp5mxsuv71d.png"></p>
<p>fig1:database ID example</p>
<h1 id="Build-Integration"><a href="#Build-Integration" class="headerlink" title="Build Integration"></a>Build Integration</h1><p>åˆ°<a target="_blank" rel="noopener" href="https://www.notion.so/my-integrations">My integrations | Notion Developers</a>æ­¤ç¶²å€èƒ½å¤ çœ‹åˆ°è‡ªå·±çš„integrationï¼Œé»æ“Šæ–°å¢integrationæœƒåˆ°ä»¥ä¸‹ä»‹é¢ï¼Œè¦æ³¨æ„workspaceæ˜¯ä½ çš„databaseåœ¨çš„åœ°æ–¹ã€‚</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*L6X2PMcKg-2qOsBNgt_T8g.png"></p>
<p>fig2:Create integration</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*GhxfNdoc7XmW7SaQLpFIVA.png"></p>
<p>fig3: Secret key</p>
<p>è¦æ³¨æ„ä¸Šé¢å¾—keyï¼Œå°±æ˜¯æˆ‘å€‘æ¥ä¸‹ä¾†è¦ä½¿ç”¨çš„é€£æ¥notionçš„keyï¼Œå¯ä»¥å°‡ä»–å­˜åˆ°ç’°å¢ƒè®Šæ•¸è£¡ã€‚</p>
<h1 id="Connect-Integration-and-database"><a href="#Connect-Integration-and-database" class="headerlink" title="Connect Integration and database"></a>Connect Integration and database</h1><p>databaseé é¢å³æ‰‹é‚Šçš„è¨­å®šèƒ½å¤ æ‰¾åˆ° add connectionsé€™é¸é …ï¼Œè‹¥integrationæ–°å¢æˆåŠŸï¼Œä½ æœƒæ‰¾åˆ°ä½ å‰›å‰›æ–°å¢çš„integrationã€‚</p>
<p><img src="https://miro.medium.com/v2/resize:fit:245/1*8NndeXb8NJcIlPpQWPletw.png"></p>
<p>fig4: conneciton</p>
<h1 id="Add-page-into-database"><a href="#Add-page-into-database" class="headerlink" title="Add page into database"></a>Add page into database</h1><p>æ¥ä¸‹ä¾†å°±æ˜¯é‡é ­æˆ²ä¸­çš„é‡é ­æˆ²ï¼Œæˆ‘å€‘å¿…é ˆå°‡è³‡æ–™è¼¸å…¥é€²å»databaseï¼Œè€Œå†å°‡è³‡æ–™åŒ¯å…¥çš„æ™‚å€™ï¼Œæˆ‘å€‘å¿…éœ€ç‰¹åˆ¥æ³¨æ„ä¸€ä»¶Notion APIçš„é™åˆ¶ã€‚æˆ‘å†é€™å€‹æ¡ˆä¾‹ä¸­é‡åˆ°çš„é™åˆ¶æœ‰ä»¥ä¸‹å…©å€‹ã€‚</p>
<ol>
<li>rich_textï¼š1000token limits</li>
<li>blocks ï¼šä¸€æ¬¡åªèƒ½100å€‹</li>
</ol>
<p>ä¹‹æ‰€ä»¥æœƒé‡åˆ°ç¬¬ä¸€å€‹çš„å•é¡Œï¼Œæ˜¯å› ç‚ºä¸€é–‹å§‹ï¼Œæˆ‘æœƒæƒ³è¦ç›´æ¥å°‡å…¨éƒ¨è³‡æ–™ä¸€æ¬¡ä¸Ÿé€²å»ï¼Œå°±æœƒå°è‡´è¶…å‡ºé™åˆ¶ï¼Œè€Œç¬¬äºŒå€‹å•é¡Œæ˜¯ï¼Œç•¶æˆ‘åˆ‡å‰²æ¯ä¸€å¡Šç‚ºä¸åŒçš„blockçš„æ™‚å€™ï¼Œé‡åˆ°å–®å­—ä»–çš„blockæ•¸éå¤šå°è‡´æ›´æ–°å¤±æ•—ï¼Œæœ€çµ‚çµæœå¦‚ä¸‹ï¼Œé‡å°blockçš„æ›´æ–°ï¼Œæˆ‘æ˜¯æ¡ç”¨ä¸€å€‹ä¸€å€‹block,appendåˆ°blocksé€™å€‹listè£¡é¢çš„æ–¹å¼ã€‚(<a target="_blank" rel="noopener" href="https://developers.notion.com/reference/intro">NOTION APIæ–‡ä»¶</a>)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> notion_client <span class="keyword">import</span> Client  </span><br><span class="line">vocabulary_token = os.getenv(<span class="string">&quot;NOTION_KEY&quot;</span>)  </span><br><span class="line">notion = Client(auth=vocabulary_token)  </span><br><span class="line">page = notion.pages.create(  </span><br><span class="line">    parent=&#123;<span class="string">&quot;database_id&quot;</span>: <span class="string">&#x27;your_id&#x27;</span>&#125;,<span class="comment">#è«‹æ”¹æˆdatabaseçš„ID  </span></span><br><span class="line">    properties=&#123;  </span><br><span class="line">        <span class="string">&quot;keyword&quot;</span>: &#123;<span class="string">&quot;title&quot;</span>: [&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>, <span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;content&quot;</span>: title&#125;&#125;]&#125;,<span class="comment">#pageçš„å±¬æ€§  </span></span><br><span class="line">        <span class="string">&quot;tag&quot;</span>: &#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;multi_select&quot;</span>, <span class="string">&quot;multi_select&quot;</span>: [&#123;<span class="string">&quot;name&quot;</span>: tag&#125;]&#125;,  </span><br><span class="line">         <span class="string">&quot;url&quot;</span>: &#123;<span class="string">&quot;rich_text&quot;</span>: [&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>, <span class="string">&quot;text&quot;</span>:   </span><br><span class="line">                                &#123;<span class="string">&quot;content&quot;</span>: url,  </span><br><span class="line">                                 <span class="string">&#x27;link&#x27;</span>:&#123;<span class="string">&#x27;url&#x27;</span>:url_for_link&#125;  </span><br><span class="line">                                 &#125;  </span><br><span class="line">                                &#125;]&#125;,  </span><br><span class="line">        <span class="string">&quot;meaning&quot;</span>: &#123;<span class="string">&quot;rich_text&quot;</span>: [&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>, <span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;content&quot;</span>: word_info[<span class="number">0</span>][<span class="string">&#x27;translation&#x27;</span>]&#125;&#125;]&#125;  </span><br><span class="line">  </span><br><span class="line">    &#125;,  </span><br><span class="line">    children=blocks,  </span><br><span class="line">    icon=&#123;<span class="string">&quot;type&quot;</span>: <span class="string">&quot;emoji&quot;</span>, <span class="string">&quot;emoji&quot;</span>: <span class="string">&quot;ğŸ“š&quot;</span>&#125;  </span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">blocks = []  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span> definition <span class="keyword">in</span> word_info:  </span><br><span class="line">    definition_block = &#123;  </span><br><span class="line">        <span class="string">&quot;object&quot;</span>: <span class="string">&quot;block&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;heading_2&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;heading_2&quot;</span>: &#123;  </span><br><span class="line">            <span class="string">&quot;rich_text&quot;</span>: [  </span><br><span class="line">                &#123;  </span><br><span class="line">                    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,  </span><br><span class="line">                    <span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;content&quot;</span>: <span class="string">&quot;Definition:&quot;</span>, <span class="string">&quot;link&quot;</span>: <span class="literal">None</span>&#125;  </span><br><span class="line">                &#125;  </span><br><span class="line">            ],  </span><br><span class="line">            <span class="string">&quot;color&quot;</span>:<span class="string">&quot;blue_background&quot;</span>,  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    blocks.append(definition_block)  </span><br><span class="line">  </span><br><span class="line">    definition_text = &#123;  </span><br><span class="line">        <span class="string">&quot;object&quot;</span>: <span class="string">&quot;block&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;paragraph&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;paragraph&quot;</span>: &#123;  </span><br><span class="line">            <span class="string">&quot;rich_text&quot;</span>: [  </span><br><span class="line">                &#123;  </span><br><span class="line">                    <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,  </span><br><span class="line">                    <span class="string">&quot;text&quot;</span>: &#123;<span class="string">&quot;content&quot;</span>: definition[<span class="string">&#x27;definition&#x27;</span>], <span class="string">&quot;link&quot;</span>: <span class="literal">None</span>&#125;  </span><br><span class="line">                &#125;  </span><br><span class="line">            ],  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    blocks.append(definition_text)  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¦æ³¨æ„è£¡é¢ä»–éœ€è¦çš„æ ¼å¼é€šå¸¸éƒ½æ˜¯dictï¼Œæˆ‘å€‘å¯ä»¥çµåˆå…¶ä»–è³‡æ–™çµæ§‹å»åšæ­£è¦åŒ–çš„è™•ç†ï¼Œè®“æ›´æ–°æœ‰éŸŒæ€§ã€‚</p>
<h1 id="Update-page"><a href="#Update-page" class="headerlink" title="Update page"></a>Update page</h1><p>æˆ‘çš„éœ€æ±‚ä¸­ï¼Œæˆ‘æœƒæƒ³è¦æŠŠæˆ‘çœ‹åˆ°é€™å€‹å–®å­—çš„ç¶²ç«™åœ¨é‚£é‚Šçµ¦è¨˜éŒ„ä¸‹ä¾†ï¼Œå› æ­¤æˆ‘è¦ç¢ºèªï¼Œé€™å€‹å–®å­—æ˜¯å¦åœ¨databaseè£¡é¢å·²ç¶“å­˜åœ¨ï¼Œæ‰€ä»¥æˆ‘åˆå¦å¤–å¯«äº†ä¸‰å€‹funcitonã€‚</p>
<h1 id="æ‰¾å‡ºç›¸é—œå–®å­—çš„page"><a href="#æ‰¾å‡ºç›¸é—œå–®å­—çš„page" class="headerlink" title="æ‰¾å‡ºç›¸é—œå–®å­—çš„page"></a>æ‰¾å‡ºç›¸é—œå–®å­—çš„page</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">filter_pages_by_keyword</span>(<span class="params">keyword: <span class="built_in">str</span></span>):  </span><br><span class="line">    <span class="comment"># åˆ›å»ºä¸€ä¸ªè¿‡æ»¤æ¡ä»¶ï¼Œæ ¹æ®&quot;keyword&quot;å±æ€§çš„å€¼è¿›è¡Œè¿‡æ»¤  </span></span><br><span class="line">    filter_condition = &#123;  </span><br><span class="line">    <span class="string">&quot;and&quot;</span>: [  </span><br><span class="line">        &#123;  </span><br><span class="line">            <span class="string">&quot;property&quot;</span>: <span class="string">&quot;keyword&quot;</span>,  </span><br><span class="line">            <span class="string">&quot;title&quot;</span>: &#123;  </span><br><span class="line">                <span class="string">&quot;equals&quot;</span>: keyword  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;,  </span><br><span class="line">    ]  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ä½¿ç”¨è¿‡æ»¤æ¡ä»¶æ¥æŸ¥è¯¢æ•°æ®åº“  </span></span><br><span class="line">    response = notion.databases.query(  </span><br><span class="line">        database_id=<span class="string">&#x27;9ed5b492835e40eb93cc72d38edc3fc7&#x27;</span>,  </span><br><span class="line">        <span class="built_in">filter</span>=filter_condition  </span><br><span class="line">    )  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># è¿”å›æŸ¥è¯¢ç»“æœ  </span></span><br><span class="line">    <span class="keyword">return</span> response</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›´æ–°è£¡é¢çš„urlå±¬æ€§ï¼Œä¸”è¦æœ‰é€£çµ  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add_url_to_page</span>(<span class="params">page_id: <span class="built_in">str</span>, new_url: <span class="built_in">str</span></span>):  </span><br><span class="line">    <span class="comment"># å–å¾—filteréå¾Œé é¢çš„è³‡æ–™  </span></span><br><span class="line">    page = notion.pages.retrieve(page_id=page_id)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># å–å¾—é€™å€‹page urlçš„ç›¸é—œè³‡æ–™  </span></span><br><span class="line">    current_url_content = page[<span class="string">&#x27;properties&#x27;</span>][<span class="string">&#x27;url&#x27;</span>][<span class="string">&#x27;rich_text&#x27;</span>]  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># åœ¨åŸæœ¬çš„contentå¾Œé¢åŠ ä¸Š  </span></span><br><span class="line">    new_url_content = current_url_content + [&#123;  </span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;text&quot;</span>: &#123;  </span><br><span class="line">            <span class="string">&quot;content&quot;</span>: <span class="string">&quot;  ,  &quot;</span> ,  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;]  </span><br><span class="line">    <span class="keyword">if</span> is_valid_url(new_url):  </span><br><span class="line">        new_url_for_link=new_url  </span><br><span class="line">    <span class="keyword">else</span>:  </span><br><span class="line">        new_url_for_link=<span class="string">&#x27;http://example.com&#x27;</span>  </span><br><span class="line">    new_url_content = new_url_content + [&#123;  </span><br><span class="line">        <span class="string">&quot;type&quot;</span>: <span class="string">&quot;text&quot;</span>,  </span><br><span class="line">        <span class="string">&quot;text&quot;</span>: &#123;  </span><br><span class="line">            <span class="string">&quot;content&quot;</span>:  new_url,  </span><br><span class="line">            <span class="string">&quot;link&quot;</span>: &#123;  </span><br><span class="line">                <span class="string">&quot;url&quot;</span>: new_url_for_link  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;]  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æ›´æ–°é¡µé¢çš„ &quot;url&quot; å±æ€§  </span></span><br><span class="line">    updated_page = notion.pages.update(  </span><br><span class="line">        page_id=page_id,  </span><br><span class="line">        properties=&#123;  </span><br><span class="line">            <span class="string">&quot;url&quot;</span>: &#123;  </span><br><span class="line">                <span class="string">&quot;rich_text&quot;</span>: new_url_content  </span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;  </span><br><span class="line">    )  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> updated_page</span><br><span class="line"></span><br><span class="line"><span class="comment"># çµåˆä¸Šé¢çš„ç¨‹å¼ï¼Œç•¶æœ‰ä¸€å€‹å–®å­—é€²é‚„ï¼Œæœƒå…ˆç¢ºèªæ˜¯å¦æœ‰æ­¤å–®å­—ï¼Œå†åšinsertçš„å‹•ä½œ  </span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">filter_or_insert</span>(<span class="params">keyword: <span class="built_in">str</span>, word_info, title: <span class="built_in">str</span> = <span class="string">&#x27;&#x27;</span>, tag: <span class="built_in">str</span> = <span class="string">&quot;TBD&quot;</span>, url: <span class="built_in">str</span>=<span class="string">&#x27;http://example.com&#x27;</span></span>):  </span><br><span class="line">    <span class="comment"># é¦–å…ˆï¼Œå°è¯•æ ¹æ®å…³é”®è¯æŸ¥æ‰¾é¡µé¢  </span></span><br><span class="line">    response = filter_pages_by_keyword(keyword)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># å¦‚æœæ‰¾ä¸åˆ°ä»»ä½•é¡µé¢ï¼Œé‚£ä¹ˆæ’å…¥ä¸€ä¸ªæ–°çš„é¡µé¢  </span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> response[<span class="string">&#x27;results&#x27;</span>]:  </span><br><span class="line">        insert_to_notion(word_info, title, tag, url)  </span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Insertion successful&quot;</span>, <span class="string">&quot;success&quot;</span>: <span class="literal">True</span>&#125;  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># å¦‚æœæ‰¾åˆ°äº†é¡µé¢ï¼Œé‚£ä¹ˆæ›´æ–°è¿™äº›é¡µé¢çš„ URL  </span></span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> response[<span class="string">&#x27;results&#x27;</span>]:  </span><br><span class="line">        add_url_to_page(page[<span class="string">&#x27;id&#x27;</span>], url)  </span><br><span class="line">  </span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;message&quot;</span>: <span class="string">&quot;Page(s) updated&quot;</span>, <span class="string">&quot;success&quot;</span>: <span class="literal">True</span>&#125;</span><br></pre></td></tr></table></figure>

<h1 id="çµèª"><a href="#çµèª" class="headerlink" title="çµèª"></a>çµèª</h1><p>åœ¨é€™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å€‘å­¸ç¿’äº†å¦‚ä½•ä½¿ç”¨Notion APIå’ŒPythonä¾†å»ºç«‹è‡ªå·±çš„è©å½™åº«è³‡æ–™åº«ã€‚æˆ‘å€‘ä½¿ç”¨çˆ¬èŸ²æŠ€è¡“ç²å–äº†æœ‰åƒ¹å€¼çš„è³‡æ–™ï¼Œä¸¦å°‡å…¶èˆ‡Notionçš„åŠŸèƒ½çµåˆèµ·ä¾†ã€‚é€šéå»ºç«‹integrationã€é€£æ¥databaseã€å°‡è³‡æ–™æ’å…¥databaseä¸¦æ›´æ–°é é¢ï¼Œæˆ‘å€‘æˆåŠŸåœ°å»ºç«‹äº†ä¸€å€‹å…·æœ‰å¼·å¤§åŠŸèƒ½å’Œå½ˆæ€§çš„è©å½™åº«è³‡æ–™åº«ï¼Œå¾ŒçºŒæˆ‘å°‡æŠŠé€™äº›åŠŸèƒ½çµåˆåœ¨Djangoä¸Šï¼Œè®“ä»–å¯ä»¥è®Šæˆä¸€å€‹serverç«¯çš„åŠŸèƒ½ã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2023/Use-Notion-and-Python-to-build-my-own-vocabulary-database-%E2%80%94-2-Web-crawler/">Use Notion and Python to build my own vocabulary database â€” (2)[Web crawler]</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-07-01</time><div class="content"><h1 id="å–å¾—æœ‰æ•ˆçš„è³‡æ–™æº"><a href="#å–å¾—æœ‰æ•ˆçš„è³‡æ–™æº" class="headerlink" title="å–å¾—æœ‰æ•ˆçš„è³‡æ–™æº"></a>å–å¾—æœ‰æ•ˆçš„è³‡æ–™æº</h1><p>è¦å»ºç«‹å–®å­—çš„è³‡æ–™åº«ï¼Œé¦–å…ˆæˆ‘å€‘å¿…é ˆä¿è­‰è³‡æ–™çš„æ­£ç¢ºæ€§ï¼Œä¸€é–‹å§‹æˆ‘è€ƒæ…®å»ä¸²æ¥çŸ¥åçš„è‹±èªè¾­å…¸APIï¼Œçµæœç™¼ç¾é€™äº›APIæˆ–å¤šæˆ–å°‘éƒ½éœ€è¦èŠ±éŒ¢ï¼Œä¸”åŠæ©‹è‹±èªçš„APIæ›´æ˜¯ä¸€å€‹æœˆéœ€è¦30ç¾å…ƒçš„åƒ¹æ ¼ï¼Œé€™å°ä¸€å€‹æ¯å€‹æœˆä½¿ç”¨é‡ä¸æœƒå¤ªå¤šçš„æˆ‘ä¾†èªªï¼Œå¯¦åœ¨æ˜¯æœ‰é»èª‡å¼µäº†ï¼Œå› æ­¤æˆ‘æƒ³äº†å¦ä¸€å€‹è¾¦æ³•ï¼Œé‚£å°±æ˜¯ä½¿ç”¨çˆ¬èŸ²ä¾†å–å¾—æˆ‘æƒ³è¦çš„è³‡æ–™ï¼Œé †ä¾¿è¤‡ç¿’ä¸€ä¸‹ã€‚</p>
<h1 id="å¦‚ä½•çˆ¬èŸ²"><a href="#å¦‚ä½•çˆ¬èŸ²" class="headerlink" title="å¦‚ä½•çˆ¬èŸ²"></a>å¦‚ä½•çˆ¬èŸ²</h1><p>æ‰€è¬‚ç¶²è·¯çˆ¬èŸ²ï¼Œåªæ˜¯è®“ç¨‹å¼å»æ¨¡æ“¬ç€è¦½å™¨çš„è¡Œç‚ºï¼Œä¸¦å–å¾—æˆ‘å€‘æƒ³è¦çš„è³‡æ–™çš„ä¸€å€‹å‹•ä½œè€Œå·²ï¼Œç„¶è€Œæˆ‘å€‘è¦æœ‰æ•ˆä¸”å¿«é€Ÿçš„å»å–å¾—æƒ³è¦çš„è³‡æ–™ï¼Œé‚£å°æ–¼Htmlçš„ç­è§£ä¹Ÿæ˜¯å¿…å‚™ã€‚è€Œæˆ‘ä½¿ç”¨çš„ç¨‹å¼èªè¨€æ˜¯pythonæ­é…seleniumå»åšçˆ¬èŸ²ï¼Œä»¥ä¸‹æˆ‘æœƒä¸€æ­¥ä¸€æ­¥çš„æè¿°å¦‚ä½•å–å¾—ç›¸é—œè³‡æ–™ã€‚</p>
<h1 id="Selenium"><a href="#Selenium" class="headerlink" title="Selenium"></a>Selenium</h1><p>seleniumæ˜¯ä¸€å€‹pythonå¥—ä»¶ï¼Œè®“æˆ‘å€‘èƒ½å¤ ä½¿ç”¨driverå»æ¨¡æ“¬ç€è¦½å™¨å»åšæ“ä½œï¼Œå¯ä»¥åšå‹•æ…‹çš„çˆ¬èŸ²ï¼Œç›¸ç•¶æ–¹ä¾¿ï¼Œä»–å‰›å¥½ä¹Ÿç¬¦åˆæˆ‘æ¥ä¸‹ä¾†çš„éœ€æ±‚ï¼Œå› ç‚ºæˆ‘å¿…éœ€å»æ¨¡æ“¬ç¶²ç«™åšæœå°‹çš„å‹•ä½œã€‚(<a target="_blank" rel="noopener" href="https://www.selenium.dev/documentation/">Selenium Document</a>)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver  </span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By  </span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait  </span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC  </span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.chrome.options <span class="keyword">import</span> Options  </span><br><span class="line">chrome_options = Options()  </span><br><span class="line">chrome_options.add_argument(<span class="string">&quot;--headless&quot;</span>)  </span><br><span class="line">driver = webdriver.Chrome(options=chrome_options)  </span><br><span class="line">  </span><br><span class="line">url = <span class="string">&#x27;https://dictionary.cambridge.org/zht/&#x27;</span> <span class="comment">#ä¸­æ–‡ç¶²ç«™  </span></span><br><span class="line">driver.get(url)  </span><br><span class="line">  </span><br><span class="line">search_box = driver.find_element(By.NAME, <span class="string">&#x27;q&#x27;</span>)  </span><br><span class="line">search_box.send_keys(word)  </span><br><span class="line">search_box.submit()  </span><br><span class="line">  </span><br><span class="line">wait = WebDriverWait(driver, <span class="number">2</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>ä¸Šé¢æ˜¯å¦‚ä½•å»é–‹å•Ÿä¸€å€‹driverå»è«‹æ±‚ç¶²ç«™ï¼Œä¸‹é¢æˆ‘å€‘å°±å¿…éœ€å»è§€å¯Ÿä¸€ä¸‹ç¶²ç«™çš„htmlï¼Œæˆ‘å€‘å¯ä»¥è§€å¯Ÿåˆ°ï¼Œä»–çš„ç¶²ç«™å€å¡Šæ˜é¡¯è§£é‡‹ã€ä¸­æ–‡ã€ä¾‹å¥ã€ä¸­æ–‡çš„æ’åºå»åšçš„ï¼Œå› æ­¤æˆ‘å€‘ä¹Ÿèƒ½å¤ æƒ³åƒåˆ°ä»–åœ¨htmlä¸­çš„æ’åºä¹Ÿæ‡‰è©²å¦‚æ­¤ã€‚</p>
<p><img src="https://miro.medium.com/v2/resize:fit:700/1*f4S-L8hKcymIQS4qnwjkKQ.png"></p>
<p>fig1:ç¶²ç«™ç•«é¢</p>
<p>å†è§€å¯Ÿäº†ç›¸é—œçš„ç¶²ç«™æ¶æ§‹ä¹‹å¾Œï¼Œæˆ‘ç¶“éå˜—è©¦ä»¥åŠå„ªåŒ–ï¼Œæ’°å¯«äº†ä»¥ä¸‹çš„å–å¾—è³‡æ–™çš„æ–¹å¼ã€‚</p>
<h1 id="åšä¾‹å¤–è™•è£¡ï¼Œå› ç‚ºæœ‰äº›å–®å­—æŸ¥ä¸åˆ°çš„è©±æ˜¯ä¸æœƒæœ‰def-block-ddef-blocké€™ä¸€å¡Šçš„"><a href="#åšä¾‹å¤–è™•è£¡ï¼Œå› ç‚ºæœ‰äº›å–®å­—æŸ¥ä¸åˆ°çš„è©±æ˜¯ä¸æœƒæœ‰def-block-ddef-blocké€™ä¸€å¡Šçš„" class="headerlink" title="åšä¾‹å¤–è™•è£¡ï¼Œå› ç‚ºæœ‰äº›å–®å­—æŸ¥ä¸åˆ°çš„è©±æ˜¯ä¸æœƒæœ‰def-block.ddef_blocké€™ä¸€å¡Šçš„"></a>åšä¾‹å¤–è™•è£¡ï¼Œå› ç‚ºæœ‰äº›å–®å­—æŸ¥ä¸åˆ°çš„è©±æ˜¯ä¸æœƒæœ‰def-block.ddef_blocké€™ä¸€å¡Šçš„</h1><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">try</span>:  </span><br><span class="line">    element = wait.until(EC.presence_of_element_located(  </span><br><span class="line">        (By.CLASS_NAME, <span class="string">&#x27;def-block.ddef_block&#x27;</span>)))  </span><br><span class="line"><span class="keyword">except</span>:  </span><br><span class="line">    driver.quit()  </span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;ç„¡æ­¤å–®å­—&#x27;</span>, <span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ç„¡æ­¤å–®å­—&#x27;</span>, <span class="string">&#x27;examples&#x27;</span>: []&#125;  </span><br><span class="line">word_element = driver.find_element(By.CSS_SELECTOR, <span class="string">&#x27;.headword.dhw.dpos-h_hw&#x27;</span>).text  </span><br><span class="line">def_blocks = driver.find_elements(By.CSS_SELECTOR, <span class="string">&#x27;.def-block.ddef_block&#x27;</span>) </span><br><span class="line"></span><br><span class="line"><span class="comment">#å› ç‚ºä»–æ˜¯ä¸€å¡Šä¸€å¡Šçš„ï¼Œæ‰€ä»¥è¦ç”¨forè¿´åœˆæŠŠä»–å€‘ä¸€å€‹ä¸€å€‹æŠ“å‡ºä¾†  </span></span><br><span class="line">definitions = []  </span><br><span class="line">  </span><br><span class="line"><span class="keyword">for</span> i, block <span class="keyword">in</span> <span class="built_in">enumerate</span>(def_blocks):  </span><br><span class="line">    <span class="comment"># æå–è‹±æ–‡å®šç¾©  </span></span><br><span class="line">    def_text = block.find_element(By.CSS_SELECTOR, <span class="string">&#x27;.def.ddef_d.db&#x27;</span>).text  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æå–ä¸­æ–‡ç¿»è­¯  </span></span><br><span class="line">    trans_text = block.find_element(  </span><br><span class="line">        By.CSS_SELECTOR, <span class="string">&#x27;.trans.dtrans.dtrans-se.break-cj&#x27;</span>).text  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æå–è‹±æ–‡ä¾‹å¥  </span></span><br><span class="line">    eng_examples = block.find_elements(  </span><br><span class="line">        By.CSS_SELECTOR, <span class="string">&#x27;.examp.dexamp .eg.deg&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># æå–ä¸­æ–‡ä¾‹å¥  </span></span><br><span class="line">    chi_examples = block.find_elements(  </span><br><span class="line">        By.CSS_SELECTOR, <span class="string">&#x27;.examp.dexamp .trans.dtrans.dtrans-se.hdb.break-cj&#x27;</span>)  </span><br><span class="line">  </span><br><span class="line">    <span class="comment"># ä½¿ç”¨zipå‡½æ•¸å°‡è‹±æ–‡ä¾‹å¥å’Œä¸­æ–‡ä¾‹å¥é…å°èµ·ä¾†  </span></span><br><span class="line">    examples = [(eng.text, chi.text)  </span><br><span class="line">                <span class="keyword">for</span> eng, chi <span class="keyword">in</span> <span class="built_in">zip</span>(eng_examples, chi_examples)]  </span><br><span class="line">  </span><br><span class="line">    definitions.append(&#123;  </span><br><span class="line">        <span class="string">&#x27;definition&#x27;</span>: def_text,  </span><br><span class="line">        <span class="string">&#x27;translation&#x27;</span>: trans_text,  </span><br><span class="line">        <span class="string">&#x27;examples&#x27;</span>: examples,  </span><br><span class="line">    &#125;)  </span><br><span class="line">  </span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure>

<p>æœ€å¾Œæœƒè¼¸å‡ºä¸€å€‹listï¼Œè£¡é¢çš„å…ƒç´ éƒ½æ˜¯ä»¥æ¯å€‹blockçš„è³‡æ–™æ‰€çµ„æˆï¼Œexampleçš„éƒ¨åˆ†ï¼Œç”±æ–¼æœƒæœ‰å¤šå€‹exampleï¼Œå› æ­¤Exampleæ˜¯ä¸€å€‹listï¼Œè€Œé€™é‚Šçš„è³‡æ–™å‹æ…‹çµ„åˆè¦ç‰¹åˆ¥æ³¨æ„ï¼Œå› ç‚ºä¹‹å¾Œåœ¨æ¥Notion APIçš„æ™‚å€™ï¼Œæ˜¯ä»€éº¼å‹æ…‹æœƒå½±éŸ¿æˆ‘å€‘è¦å¦‚ä½•å»æ¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">[&#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;the fact of reaching, stretching, or continuing; the act of adding to something in order to make it bigger or longer&#x27;</span>,  </span><br><span class="line"> <span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ä¼¸å±•ï¼›å»¶ä¼¸&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;examples&#x27;</span>: [(<span class="string">&#x27;Martin Luther King, Jr, campaigned for the extension of civil rights to (= for them to include) black people.&#x27;</span>, <span class="string">&#x27;å°é¦¬ä¸â€§è·¯å¾·â€§é‡‘ç™¼èµ·äº†ç‚ºé»‘äººçˆ­å–å…¬æ°‘æ¬Šåˆ©çš„é‹å‹•ã€‚&#x27;</span>), (<span class="string">&#x27;The extension (= increasing) of police powers in the province has been heavily criticized.&#x27;</span>, <span class="string">&#x27;åœ¨è©²çœå¢åŠ è­¦åŠ›çš„åšæ³•é­åˆ°åš´å²çš„æŠ¨æ“Šã€‚&#x27;</span>), (<span class="string">&#x27;His report contained serious criticisms of the finance director, and, by extension (= therefore), of the entire board of management.&#x27;</span>, <span class="string">&#x27;ä»–çš„å ±å‘Šå°è²¡å‹™ç¸½ç›£é€²è¡Œäº†åš´å²æ‰¹è©•ï¼Œé€²è€Œåˆæ“´åŠåˆ°æ•´å€‹ç®¡ç†å§”å“¡æœƒã€‚&#x27;</span>), (<span class="string">&#x27;The article is an extension of (= takes further) the ideas Professor Fox developed in an earlier book.&#x27;</span>, <span class="string">&#x27;é€™ç¯‡æ–‡ç« é€²ä¸€æ­¥ä¼¸å±•äº†ç¦å…‹æ–¯æ•™æˆåœ¨å…ˆå‰å‡ºç‰ˆçš„è‘—ä½œä¸­é—¡è¿°çš„è§€é»ã€‚&#x27;</span>), (<span class="string">&quot;I&#x27;ve applied for an extension to my visa (= asked for it to last longer).&quot;</span>, <span class="string">&#x27;æˆ‘å·²ç¶“ç”³è«‹å°‡ç°½è­‰å»¶æœŸã€‚&#x27;</span>), (<span class="string">&#x27;They are hoping to get an extension of their loan (= to be given a longer period of time in which to pay it back).&#x27;</span>, <span class="string">&#x27;ä»–å€‘å¸Œæœ›èƒ½å¤ å°‡è²¸æ¬¾æœŸé™å»¶é•·ã€‚&#x27;</span>)]&#125;,  </span><br><span class="line"> &#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;any of two or more phones in the same house that share the same number, or any of a number of phones connected to a switchboard in a large building such as an office&#x27;</span>,  </span><br><span class="line"> <span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ï¼ˆå…±ç”¨ä¸€å€‹è™Ÿç¢¼çš„ï¼‰é›»è©±åˆ†æ©Ÿï¼›ï¼ˆè™Ÿç¢¼ä¸åŒçš„ï¼‰é›»è©±åˆ†æ©Ÿ&#x27;</span>,  </span><br><span class="line"> <span class="string">&#x27;examples&#x27;</span>: [(<span class="string">&#x27;We have an extension in our bedroom.&#x27;</span>, <span class="string">&#x27;æˆ‘å€‘åœ¨è‡¥å®¤è£äº†ä¸€éƒ¨åˆ†æ©Ÿã€‚&#x27;</span>), (<span class="string">&#x27;When you call, ask for extension 3276.&#x27;</span>, <span class="string">&#x27;ç•¶ä½ æ‰“é›»è©±æ™‚ï¼Œè«‹ç¸½æ©Ÿè½‰å…¥åˆ†æ©Ÿ3276ã€‚&#x27;</span>)]&#125;,   </span><br><span class="line">&#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;the last part of the name of a computer file, which comes after a (.) and shows what type of file it is&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;å‰¯æª”åï¼ˆé›»è…¦æª”æ¡ˆåç¨±çš„æœ€å¾Œä¸€éƒ¨åˆ†ï¼Œç”¨æ–¼å€åˆ†æª”æ¡ˆç¨®é¡ï¼‰&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;examples&#x27;</span>: []&#125;,   </span><br><span class="line">&#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&quot;a long piece of hair that is added to a person&#x27;s own hair in order to make the hair longer&quot;</span>,   </span><br><span class="line"><span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ï¼ˆç‚ºå‰µé€ é•·é«®æ•ˆæœè€Œç¹”å…¥é ­é«®çš„ï¼‰ä¸€æ®µå‡é«®&#x27;</span>,  </span><br><span class="line"> <span class="string">&#x27;examples&#x27;</span>: []&#125;,  </span><br><span class="line"> &#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;a new part added to a house or other building&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;æ“´å»ºéƒ¨åˆ†&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;examples&#x27;</span>: [(<span class="string">&quot;We&#x27;re building an extension to/on our house.&quot;</span>, <span class="string">&#x27;æˆ‘å€‘æ­£åœ¨å°æˆ¿å±‹é€²è¡Œæ“´å»ºã€‚&#x27;</span>)]&#125;,   </span><br><span class="line">&#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&quot;intended to support students&#x27; learning by making them try different or more difficult things in addition to their basic work&quot;</span>,   </span><br><span class="line"><span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ï¼ˆå­¸ç”Ÿä½œæ¥­ï¼‰å»¶å±•æ€§çš„ï¼Œé›£åº¦æ›´é«˜çš„ï¼Œç¯„åœæ›´å»£çš„&#x27;</span>,  </span><br><span class="line"> <span class="string">&#x27;examples&#x27;</span>: [(<span class="string">&#x27;The book includes lesson plans and extension activities.&#x27;</span>, <span class="string">&#x27;é€™æœ¬æ›¸åŒ…æ‹¬èª²å ‚è¨ˆç•«å’Œå»¶å±•æ€§æ´»å‹•ã€‚&#x27;</span>)]&#125;,  </span><br><span class="line"> &#123;<span class="string">&#x27;definition&#x27;</span>: <span class="string">&#x27;offered by a university to people who are not studying for a degree there&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;translation&#x27;</span>: <span class="string">&#x27;ï¼ˆå°¤æŒ‡å­¸é™¢æˆ–å¤§å­¸ï¼‰å°æ ¡å¤–å­¸ç”Ÿæä¾›èª²ç¨‹çš„ï¼›ç‚ºéåœ¨æ ¡ç”Ÿè€Œè¨­çš„&#x27;</span>,   </span><br><span class="line"><span class="string">&#x27;examples&#x27;</span>: [(<span class="string">&#x27;extension classes/courses&#x27;</span>, <span class="string">&#x27;å°æ ¡å¤–å­¸ç”Ÿé–‹è¨­çš„èª²ç¨‹&#x27;</span>)]&#125;]</span><br></pre></td></tr></table></figure>


<h1 id="ç¸½çµ"><a href="#ç¸½çµ" class="headerlink" title="ç¸½çµ"></a>ç¸½çµ</h1><p>é€™å€‹éƒ¨åˆ†æ˜¯ç¸½çµäº†æˆ‘å†å–å¾—æœ‰æ•ˆè‹±æ–‡å–®å­—è³‡æ–™çš„éç¨‹ï¼ŒåŒ…å«å¦‚ä½•çˆ¬èŸ²ï¼Œä»¥åŠå„ªåŒ–çˆ¬èŸ²çµæœåŠä¾‹å¤–è™•ç†ï¼Œç‚ºäº†æ›´æœ‰æ•ˆçš„å»æ¥notionçš„è³‡æ–™ï¼Œä¹Ÿåšäº†è¨±å¤šå„ªåŒ–ï¼Œä¹‹å¾Œé‡åˆ°é¡ä¼¼çµæ§‹çš„ç¶²ç«™ï¼Œéƒ½èƒ½å¥—ç”¨åŒä¸€å€‹é‚è¼¯å»åˆ†æã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2023/Use-Notion-and-Python-to-build-my-own-vocabulary-database-%E2%80%94-1-Introduction/">Use Notion and Python to build my own vocabulary database â€” (1)[Introduction]</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-06-30</time><span class="article-meta tags"><span class="article-meta__separator">|</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/python/">python</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/notion/">notion</a><span class="article-meta__link">-</span><i class="fa fa-tag article-meta__icon" aria-hidden="true"></i><a class="article-meta__tags" href="/tags/crawler/">crawler</a></span><div class="content"><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨å­¸ç¿’è‹±èªçš„éç¨‹ä¸­ï¼ŒNotion ä¸€ç›´æ˜¯æˆ‘çš„å¾—åŠ›åŠ©æ‰‹ï¼Œæˆ‘ç¿’æ…£åœ¨å…¶ä¸­è¨˜éŒ„è‡ªå·±é‡åˆ°çš„æ–°å–®å­—ä¸¦é€²è¡Œç­†è¨˜ã€‚åœ¨æ¡ç´äº†ä¸€äº›æ¨è–¦å¾Œï¼Œæˆ‘é–‹å§‹ä½¿ç”¨åŠæ©‹è‹±æ–‡ç¿»è­¯ç¶²ç«™ä¾†æŸ¥è©¢é™Œç”Ÿçš„å–®è©ï¼Œä¸¦å°‡å…¶æ•´ç†åˆ° Notion çš„å–®è©åº«ä¸­ã€‚ç¶“éä¸€æ®µæ™‚é–“çš„å¯¦è¸ï¼Œæˆ‘å€‘ç™¼ç¾é€™ç¨®æ–¹æ³•ç›¸ç•¶ç¹ç‘£ã€‚é¦–å…ˆï¼Œéœ€è¦é–‹å•Ÿå¤šå€‹ç¶²ç«™ï¼›å…¶æ¬¡ï¼Œæ¯æ¬¡éƒ½éœ€è¦æ‰‹å‹•å‰µå»ºæ–°çš„é é¢ï¼Œè¼¸å…¥å–®è©ï¼Œç„¶å¾Œå°‡å…¶æ•´ç†åˆ° Notion ä¸­ã€‚å› æ­¤ï¼Œåœ¨æ³¨æ„åˆ° Notion æ¨å‡ºå…¶ API ç³»çµ±çš„æ™‚æ©Ÿï¼Œæˆ‘å€‘æ±ºå®šé–‹ç™¼ä¸€å€‹èƒ½è‡ªå‹•åŒ–é€™äº›ç¹ç‘£æ­¥é©Ÿçš„å°ˆæ¡ˆï¼Œç”¨æ–¼å»ºç«‹è‹±æ–‡ç­†è¨˜çš„è³‡æ–™åº«ï¼Œç•¶ç„¶ç†Ÿæ‚‰éå¾Œï¼Œä¹Ÿèƒ½ç”¨ä¾†æ•´åˆè‡ªå·±çš„å…¶ä»–ç­†è¨˜æºã€‚</p>
<h1 id="é æœŸçµæœ"><a href="#é æœŸçµæœ" class="headerlink" title="é æœŸçµæœ"></a>é æœŸçµæœ</h1><p><img src="/images/pasted-0.png" alt="Fig1:How does the database look like"></p>
<p><img src="/images/pasted-1.png" alt="fig2:How does the page look like"></p>
<h1 id="å¦‚ä½•é”æˆ"><a href="#å¦‚ä½•é”æˆ" class="headerlink" title="å¦‚ä½•é”æˆ"></a>å¦‚ä½•é”æˆ</h1><p>ç‚ºäº†é”æˆç›®çš„ï¼Œæˆ‘æ•´ç†äº†ä¸€äº›å¿…éœ€è§£æ±ºçš„å•é¡Œ</p>
<p>å¦‚ä½•å–å¾—æœ‰æ•ˆçš„è‹±æ–‡å–®å­—è³‡æ–™æº<br>å¦‚ä½•ä½¿ç”¨Notion APIæ›´æ–°è³‡æ–™åº«<br>å¦‚ä½•å°‡å–å¾—çš„è³‡æ–™è™•ç†éå¾Œç”¨æœ‰æ•ˆçš„æ–¹æ³•è¼¸å…¥è‡³è³‡æ–™åº«ä¸­<br>æ›´æ–¹ä¾¿çš„ä½¿ç”¨æ¨¡å¼ï¼ˆchrome extensionçš„ä½¿ç”¨ï¼‰<br>åœ¨é€™å€‹ç³»åˆ—æ–‡ä¸­ï¼Œæˆ‘å°‡æœƒä¸€æ­¥ä¸€æ­¥ä»‹ç´¹æˆ‘æ˜¯å¦‚ä½•è§£æ±ºä¸Šé¢å¾—ç›®æ¨™ï¼Œä»¥åŠå¦‚ä½•å»è§£æ±ºé‡åˆ°çš„å•é¡Œä»¥åŠæˆ‘çš„æ€è·¯ã€‚</p>
<p>å°ˆæ¡ˆé€£çµï¼šyamaallen&#x2F;vocabulary_database (github.com)</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2023/hello-world/">Hello World</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2023-06-30</time><div class="content"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2023 By Shan Chi Wang (Allen)</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>